webpackJsonp([0],{"/EbY":function(e,t,a){var i={"./App.vue":"M93x","./components/BackendLogin.vue":"Lr/8","./components/FrontendLogin.vue":"MJ2p","./components/Home.vue":"lO7g","./components/Manage.vue":"gsrS","./components/base/Dialog.vue":"tW1D","./components/base/LazyRender.vue":"T3xp","./components/base/PicZoom.vue":"MSrW","./components/base/SingleImageSelector.vue":"VOgX","./components/base/SmallButton.vue":"St21","./components/base/Table.vue":"0eif","./components/common/Bus.vue":"J7NB","./components/common/Copyright.vue":"KwZF","./components/common/EditPassword.vue":"adFz","./components/common/FeatureSelector.vue":"FPm9","./components/common/FrontendUserManage.vue":"Ru73","./components/common/ImageSelector.vue":"4huF","./components/common/TopUser.vue":"doWo","./components/common/VehicleContrast.vue":"jJxr","./components/home/Album.vue":"p0H2","./components/home/CarDetail.vue":"fsa2","./components/home/FeatureView.vue":"FbM5","./components/home/FilterCondition.vue":"4iJo","./components/home/FilterResult.vue":"HbiX","./components/home/FilterTagBar.vue":"l4fA","./components/home/ImageSelector.vue":"ZhFa","./components/home/ImageView.vue":"RTDc","./components/home/SingleImageView.vue":"gkHw","./components/home/TextArrowButton/TextArrowButton.vue":"HsnF","./components/home/TextButton/TextButton.vue":"xbUa","./components/home/UploadButton/UploadButton.vue":"FymJ","./components/home/filters/AllButton.vue":"RLC2","./components/home/filters/BackFeatureFilter.vue":"sdJE","./components/home/filters/BrandFilter.vue":"z4s9","./components/home/filters/CarTypeFilter.vue":"l6Eq","./components/home/filters/CarriageTypeFilter.vue":"Ix8U","./components/home/filters/FrontFeatureFilter.vue":"wPJ7","./components/home/filters/LogoPlacementFilter.vue":"bZZw","./components/home/filters/LogoShapeFilter.vue":"NRU7","./components/home/filters/SideFeatureFilter.vue":"ROPb","./components/home/filters/TopFeatureFilter.vue":"BfYl","./components/home/filters/YearFilter.vue":"9+1+","./components/manage/car/Add.vue":"UwQK","./components/manage/car/AuditedList.vue":"OdnX","./components/manage/car/EditDialog.vue":"2zme","./components/manage/car/List.vue":"mAKP","./components/manage/car/PreAuditList.vue":"5ZVT","./components/manage/import.vue":"Zf0t","./components/manage/log/List.vue":"tqYL","./components/manage/role/Edit.vue":"i8lk","./components/manage/role/List.vue":"wJhB","./components/manage/role/Permission.vue":"qIp/","./components/manage/user/Edit.vue":"mArp","./components/manage/user/List.vue":"wjAe","./components/manage/user/Role.vue":"nlxa"};function s(e){return a(n(e))}function n(e){var t=i[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}s.keys=function(){return Object.keys(i)},s.resolve=n,e.exports=s,s.id="/EbY"},"2zme":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),s=a.n(i),n=a("p00s"),l=a.n(n),o=a("FPm9"),r=a("4huF"),c=a("gyMJ"),u=a("CFoi"),d={name:"EmptyDialog",components:{FeatureSelector:o.default,ImageSelector:r.default},props:{visible:{type:Boolean,default:!0},title:{type:String,default:"详情"},carid:{type:String,default:""},imageid:{type:Number,default:-1},auditStatus:{type:String}},data:function(){return{onShow:this.$props.visible,slectedCarInfo:{images:Object(u.b)(),imageid:0,features:Object(u.a)()},selectedCarImages:{images:Object(u.b)(),imageid:0},canSave:!0,canEditFeature:!0,upmarks:{},upImages:[],deleteImageIds:[],onLoadingDig:!1,validatesRules:{brand:!1,modelyear:!1,series:!1,model:!1},isAudited:parseInt(this.$props.auditStatus)}},methods:{updateMarks:function(e,t){var a=[];void 0!==e&&e.length>0&&e.map(function(e){a.push({top:e.top,left:e.left,width:e.width,height:e.height,originalWidth:e.originalWidth,originalHeight:e.originalHeight})}),this.upmarks[t]=a,console.log(this.upmarks)},updateImages:function(e){this.upImages=e,console.log(e)},handleDeleteImageId:function(e){console.log("handleDeleteImageId"),-1===this.deleteImageIds.indexOf(e)&&this.deleteImageIds.push(e)},updateFeatures:function(e,t){this.slectedCarInfo.features=e,this.validatesRules.hasOwnProperty(t)&&this.slectedCarInfo.features.hasOwnProperty(t)&&(console.log("select P :"+t+"this.slectedCarInfo.features[propertyName] =null :"+this.slectedCarInfo.features[t]!=""),this.validatesRules[t]=""==this.slectedCarInfo.features[t]),"model"==t?Object(c.k)(this.slectedCarInfo.features.brand,this.slectedCarInfo.features.series,this.slectedCarInfo.features.modelyear,this.slectedCarInfo.features.model).then(function(e){""!==e.data&&e.data!==this.slectedCarInfo.features.id?(console.log(this.slectedCarInfo.features.id),this.$message({type:"warning",message:"该车型已存在，不可重复录入！"}),this.canSave&&(this.canSave=!1),this.canEditFeature&&(this.canEditFeature=!1)):(this.canSave||(this.canSave=!0),this.canEditFeature||(this.canEditFeature=!0))}.bind(this)):(this.canSave||(this.canSave=!0),this.canEditFeature||(this.canEditFeature=!0)),console.log(e)},resetFeatures:function(){this.$set(this.slectedCarInfo,"features",Object(u.a)())},onSaveDoning:function(){this.onLoadingDig=!1,this.onClearState(),this.onNotifyList(),this.$root.$emit("car-saved-done"),this.$message({type:"success",message:"操作完成",duration:1e3})},handleCheckRules:function(){var e=this,t=!1,a=l()(this.validatesRules).filter(function(t){return e.validatesRules.hasOwnProperty(t)&&e.slectedCarInfo.features.hasOwnProperty(t)&&"__"!==t.substring(0,2)});return void 0!=a&&a.length>0&&a.forEach(function(a){e.validatesRules[a]=""==e.slectedCarInfo.features[a],t||(t=e.validatesRules[a]),console.log("validateRule"+t+e.validatesRules[a])}),t},handleDelete:function(){var e=this;this.$confirm("是否确定删除数据?","删除",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.doDelete()}).catch(function(){})},handleSave:function(){this.handleCheckRules()?this.$message({type:"warning",message:"请输入必填信息！"}):this.doSave()},handleAudit:function(){this.handleCheckRules()?this.$message({type:"warning",message:"请输入必填信息！"}):this.doUpdateAndAuditCar()},doDelete:function(){var e=this;this.onLoadingDig=!0,Object(c.d)(this.slectedCarInfo.features.id).then(function(t){t.success&&e.onSaveDoning(),e.onLoadingDig=!1})},doSubmitImages:function(e){var t=this;if(e.success){var a=e.data;if(this.upImages.length>0||this.deleteImageIds.length>0){var i=new FormData;this.upImages.map(function(e,t){i.append("files",e.raw)}),i.append("parameters",new Blob([s()(this.upmarks)],{type:"application/json"})),i.append("imgeIds",new Blob([s()(this.deleteImageIds)],{type:"application/json"})),Object(c.U)(i,"/images/"+a).then(function(e){t.onSaveDoning()}).catch(function(e){t.onLoadingDig=!1,t.$message({type:"error",message:"保存图片失败！",duration:1e3})})}else this.onSaveDoning()}else this.onLoadingDig=!1},doUpdateAndAuditCar:function(){var e=this;this.onLoadingDig=!0,Object(c.O)(this.slectedCarInfo.features,1).then(function(t){return e.doSubmitImages(t)}).catch(function(t){e.onLoadingDig=!1,e.$message({type:"error",message:"保存并审核特征失败！",duration:1e3})})},doSave:function(){var e=this;this.onLoadingDig=!0,Object(c.P)(this.slectedCarInfo.features).then(function(t){return e.doSubmitImages(t)}).catch(function(t){e.onLoadingDig=!1,e.$message({type:"error",message:"保存特征失败！",duration:1e3})})},onOpen:function(){var e=this;this.onLoadingDig=!0,Object(c.l)(this.$props.carid).then(function(t){if(t.success){var a={features:"",imageid:-1,images:[]};if(a.imageid=e.$props.imageid,void 0!=t.data.features&&void 0!=t.data.features.id&&(a.features=t.data.features),void 0!=t.data.pictureOutputs&&t.data.pictureOutputs.length>0)for(var i=0;i<t.data.pictureOutputs.length;i++){var s=t.data.pictureOutputs[i];a.images.push({name:s.name,url:s.smallname,bigurl:s.mediumname,id:s.id})}e.slectedCarInfo=a,e.selectedCarImages={images:a.images,imageid:a.imageid}}else e.$message.warning(t.data),e.onShow=!1;setTimeout(function(){e.onLoadingDig=!1},200)}).catch(function(t){setTimeout(function(){e.onLoadingDig=!1},200),console.log(t)})},onClose:function(){this.onClearState(),this.$emit("car:onclose",this.onShow)},onNotifyList:function(){this.onShow=!1,this.$emit("car:onclose",this.onShow,!0)},onClearState:function(){this.validatesRules.series=!1,this.validatesRules.modelyear=!1,this.validatesRules.brand=!1,this.validatesRules.model=!1,this.canSave=!0,this.canEditFeature=!0,this.deleteImageIds=[],this.upmarks={},this.upImages=[],this.deleteImageIds=[],this.slectedCarInfo={images:Object(u.b)(),imageid:0,features:Object(u.a)()}}},watch:{visible:function(e){this.onShow=e}}},h={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"car-edit-dialog"},[a("el-dialog",{attrs:{title:e.title,visible:e.onShow,"close-on-click-modal":!1},on:{"update:visible":function(t){e.onShow=t},open:e.onOpen,close:e.onClose}},[a("el-row",{staticClass:"car-add-containner"},[a("el-col",{directives:[{name:"show",rawName:"v-show",value:!e.onLoadingDig,expression:"!onLoadingDig"}],staticClass:"car-image-selector car-add-cell-col",attrs:{span:13}},[a("ImageSelector",{ref:"child",attrs:{"image-info":e.selectedCarImages},on:{"image-delete-id":e.handleDeleteImageId,updateImages:e.updateImages,updateMarks:e.updateMarks}})],1),e._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:!e.onLoadingDig,expression:"!onLoadingDig"}],staticClass:"car-add-cell-col",attrs:{span:9}},[a("FeatureSelector",{attrs:{"features-info":e.slectedCarInfo,rules:e.validatesRules,"can-edit-feature":e.canEditFeature},on:{"feature:changed":e.updateFeatures,"feature:reset":e.resetFeatures}}),e._v(" "),a("div",{staticClass:"btn-save"},[a("el-button",{attrs:{type:"primary",size:"small",disabled:!e.canSave},on:{click:e.handleSave}},[e._v("保存")]),e._v(" "),""!=e.slectedCarInfo.features.id&&36==e.slectedCarInfo.features.id.length?a("el-button",{staticClass:" btn-delete-detail",attrs:{type:"primary",size:"small"},on:{click:e.handleDelete}},[e._v("删除")]):e._e(),e._v(" "),0==e.isAudited?a("el-button",{staticClass:" btn-delete-detail",attrs:{type:"primary",size:"small",disabled:!e.canSave},on:{click:e.handleAudit}},[e._v("审核提交")]):e._e()],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.onLoadingDig,expression:"onLoadingDig"},{name:"loading",rawName:"v-loading",value:e.onLoadingDig,expression:"onLoadingDig"}],staticClass:"contrast-mask-ve",attrs:{"element-loading-text":"正在加载..."}})],1)],1)],1)},staticRenderFns:[]};var m=a("vSla")(d,h,!1,function(e){a("IuJM")},null,null);t.default=m.exports},"3PO9":function(e,t){},"4huF":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("VOgX"),s=(a("gyMJ"),{components:{SingleImageSelector:i.default},props:["imageInfo","imageResize"],data:function(){return{selectedIndex:0,imageList:[],imagescache:[[],[],[],[],[]],markinfoscache:[[],[],[],[],[]],tipCls:{display:"none",top:0,left:0,width:0,height:0},onDeleting:!1,isPress:!1,imageSet:void 0===this.$props.imageResize?{width:520,height:380}:this.$props.imageResize}},mounted:function(){this.maskObj=this.$el.querySelector("#mask"),this.maskTips=this.$el.querySelector(".mark-tips"),this.imageView=this.$el.querySelector("#imge-view"),this.handleMouseDown.bind(this),this.resetCache(),this.$root.$on("car-saved-done",function(){console.log("car-saved-done"),this.resetCache()}.bind(this))},watch:{imageInfo:{handler:function(e){void 0!==e&&this.resetCache(e.images)},deep:!0},selectedIndex:function(e){this.unRegistMaskEvent()}},methods:{resetCache:function(e){this.unRegistMaskEvent(),e instanceof Array||(e=[]);var t=[];this.imageList.splice(0,this.imageList.length);for(var a=0;a<5;a++)a<e.length?(this.imageList.push(e[a]),t.push({name:e[a].name,url:e[a].url,bigurl:e[a].bigurl,id:e[a].id}),e[a].id==this.$props.imageid&&(this.selectedIndex=a)):t.push({name:"",url:"",bigurl:"",id:""}),this.imagescache=t,this.markinfoscache=[[],[],[],[],[]],void 0!==this.$refs.uploads&&(this.$refs.uploads.uploadFiles=[])},handleAllAction:function(e,t){if(!(t.length<=0)){for(var a=0;a<t.length;a++)if(void 0!=t[a].raw){var i=this.imagescache.findIndex(function(e){return t[a].url===e.url});if(-1==i)for(var s=0;s<this.imagescache.length;s++)if(""==this.imagescache[s].url){this.imagescache[s]={name:t[a].name,url:t[a].url,bigurl:t[a].url,id:-1};break}-1==(i=this.imageList.findIndex(function(e){return t[a].url===e.url}))&&this.imageList.push(t[a])}this.$emit("updateImages",this.getForuploadFile())}},getForuploadFile:function(){var e=[];return this.imageList.map(function(t){void 0==t.id&&e.push(t)}),e},handleAllExceed:function(e,t){this.$message.warning("当前限制选择 5 个文件，本次选择了 "+e.length+" 个文件，共选择了 "+(e.length+t.length)+" 个文件")},add:function(e,t){this.imageList.push(e),this.imagescache[t]={name:e.name,url:e.url,bigurl:e.url,id:-1},this.selectedIndex=t,this.$emit("updateImages",this.getForuploadFile())},deleted:function(e,t,a){var i=this;this.$confirm("是否确认删除?","删除",{confirmButtonText:"确认",cancelButtonText:"取消",type:"warning"}).then(function(){-1!==e.id?(console.log("image-delete-id"),i.$emit("image-delete-id",e.id),i.deleteCache(e,t)):i.deleteCache(e,t),null!=a&&void 0!==a&&a()}).catch(function(){})},deleteCache:function(e,t){var a=this.imageList.findIndex(function(t){return t.url===e.url});a>=0&&this.imageList.splice(a,1),this.markinfoscache[t].splice(0,this.markinfoscache[t].length),this.$emit("updateMarks",this.markinfoscache[this.selectedIndex],this.imagescache[this.selectedIndex].name),this.imagescache[t]={name:"",url:"",bigurl:"",id:""},this.selectedIndex=0,this.unRegistMaskEvent(),this.$emit("updateImages",this.getForuploadFile())},selected:function(e,t){this.selectedIndex=t},registMaskEvent:function(){console.log(this.maskObj),null!=this.maskObj.onmousedown?(this.maskObj.onmousedown=null,this.isPress=!1,this.imageView.style.cursor="default"):(this.maskObj.onmousedown=this.handleMouseDown,this.isPress=!0,this.imageView.style.cursor="crosshair"),console.log("isPress:"+this.isPress)},unRegistMaskEvent:function(){console.log(this.maskObj),this.imageView.style.cursor="default",this.isPress=!1,null!=this.maskObj.onmousedown&&(this.maskObj.onmousedown=null,this.maskObj.onmousemove=null,this.maskObj.onmouseup=null)},handleMouseDown:function(e){var t=e.offsetX,a=e.offsetY;this.maskWidth=this.maskObj.clientWidth,this.maskHeight=this.maskObj.clientHeight,this.maskObj.onmousemove=function(e){console.log(this.maskObj.style.cursor);var i=e.offsetX,s=e.offsetY;if(this.maskWidth>=i&&this.maskHeight>=s&&i-t>10&&s-a>10){var n={};n.top=a+"px",n.display="block",n.left=t+"px",n.width=i-t+"px",n.height=s-a+"px",this.tipCls=n}else this.tipCls.display="none"}.bind(this),this.maskObj.onmouseup=function(e){this.maskObj.onmousemove=null,this.maskObj.onmouseup=null,this.tipCls.display="none";var i=e.offsetX,s=e.offsetY,n=i-t,l=s-a,o=this.markinfoscache[this.selectedIndex].length+1;if(n<10||l<10)e.preventDefault();else{var r={};r.id=o,r.top=a,r.left=t,r.width=n,r.height=l,r.originalWidth=this.imageView.clientWidth,r.originalHeight=this.imageView.clientHeight,r.cls={position:"absolute",width:n+"px",height:l+"px",color:"white",left:t+"px",top:a+"px"},this.markinfoscache[this.selectedIndex].push(r),this.$emit("updateMarks",this.markinfoscache[this.selectedIndex],this.imagescache[this.selectedIndex].name)}}.bind(this)},handleDelMark:function(e){var t=this.markinfoscache[this.selectedIndex].findIndex(function(t){return t.id===e});console.log("index:--\x3e"+t),t>=0&&this.markinfoscache[this.selectedIndex].splice(t,1),this.$emit("updateMarks",this.markinfoscache)}}}),n={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.onDeleting,expression:"onDeleting"}],staticClass:"image-selector",attrs:{"element-loading-text":"正在删除图片资源..."}},[i("el-row",{staticClass:"row-image-view"},[i("div",{attrs:{id:"mask"}},[i("img",{directives:[{name:"image-resize",rawName:"v-image-resize",value:e.imageSet,expression:"imageSet"}],attrs:{id:"imge-view",src:""==this.imagescache[e.selectedIndex].bigurl?"":this.imagescache[e.selectedIndex].bigurl,onerror:'this.src="'+a("f4JG")+'"',draggable:"false"}}),e._v(" "),e._l(this.markinfoscache[this.selectedIndex],function(t){return i("div",{staticClass:"mark-info",style:t.cls,on:{mousedown:function(e){e.stopPropagation()}}},[i("i",{staticClass:"el-icon-delete",on:{click:function(a){e.handleDelMark(t.id)}}})])}),e._v(" "),i("div",{staticClass:"mark-tips",style:e.tipCls,attrs:{draggable:"false"}})],2)]),e._v(" "),i("el-row",{staticClass:"center-div"},[i("el-upload",{ref:"uploads",staticClass:"upload-div-btn",attrs:{action:"","auto-upload":!1,"show-file-list":!1,multiple:"","file-list":e.imageList,limit:5,accept:"image/png, image/jpeg","on-change":e.handleAllAction,"on-exceed":e.handleAllExceed}},[i("el-button",{staticClass:"btn-upload",attrs:{size:"small",type:"primary"}},[e._v("\n        点击上传\n      ")])],1),e._v(" "),i("el-button",{staticClass:"mark-button",class:{"mark-button-press":e.isPress},attrs:{id:"btnmark",size:"small",type:"primary",disabled:-1!==this.imagescache[e.selectedIndex].id,right:""},on:{click:e.registMaskEvent}},[e._v("打白条")])],1),e._v(" "),i("el-row",[i("div",{staticClass:"img-list"},e._l(e.imagescache,function(t,a){return i("div",{key:a,class:4==a?"img-item-last":"img-item",attrs:{id:a}},[i("single-image-selector",{attrs:{index:a,"selected-index":e.selectedIndex,"image-url":t},on:{add:e.add,selected:e.selected,deleted:e.deleted}})],1)}))])],1)},staticRenderFns:[]};var l=a("vSla")(s,n,!1,function(e){a("Py02")},null,null);t.default=l.exports},"5ZVT":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={components:{VehicleList:a("mAKP").default}},s={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("vehicle-list",{attrs:{"audit-status":"0"}})],1)},staticRenderFns:[]},n=a("vSla")(i,s,!1,null,null,null);t.default=n.exports},"9i9p":function(e,t){},FPm9:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("gyMJ"),s=a("CFoi"),n={name:"FeatureSelector",components:{},props:["featuresInfo","rules","canEditFeature"],watch:{featuresInfo:{handler:function(e){this.feature=e.features,this.initLevelDataSource()},deep:!0}},data:function(){return{feature:void 0===this.$props.featuresInfo?Object(s.a)():this.$props.featuresInfo.features,validates:{brand:!0},featureSource:Object(s.a)(),activeNames:["1"]}},mounted:function(){var e=this;Object(i.h)().then(function(t){t.success&&(e.featureSource=t.data),Object(i.g)().then(function(t){t.success&&e.$set(e.featureSource,"brandItems",t.data.brandSource)})}),this.initLevelDataSource(),this.$root.$on("car-saved-done",function(){console.log("car-saved-done"),this.clearSeires(),this.clearYear(),this.clearModel()}.bind(this))},methods:{handleGroup:function(e){console.log(e)},handleChange:function(e){var t=this;console.log("feature selectd:"+e),"brand"===e&&(this.clearSeires(),Object(i.x)({brandId:this.feature.brand}).then(function(e){e.success&&t.$set(t.featureSource,"seriesItems",e.data)})),"series"===e&&(this.clearYear(),Object(i.r)({seriesId:this.feature.series}).then(function(e){e.success&&t.$set(t.featureSource,"yearItems",e.data)})),"modelyear"===e&&(this.clearModel(),Object(i.t)({modelyearId:this.feature.modelyear}).then(function(e){t.$set(t.featureSource,"modelItems",e.data)})),this.$emit("feature:changed",this.feature,e)},handleReset:function(){this.$emit("feature:reset")},clearModel:function(){this.$set(this.featureSource,"modelItems",[]),this.feature.model=""},clearYear:function(){this.clearModel(),this.$set(this.featureSource,"yearItems",[]),this.feature.modelyear=""},clearSeires:function(){this.clearYear(),this.$set(this.featureSource,"seriesItems",[]),this.feature.series=""},initLevelDataSource:function(){var e=this;""!=this.feature.id&&""!=this.feature.brand&&Object(i.x)({brandId:this.feature.brand}).then(function(t){t.success&&(console.log("watch handler featureSource"),e.$set(e.featureSource,"seriesItems",t.data),""!=e.feature.series&&Object(i.r)({seriesId:e.feature.series}).then(function(t){t.success&&(e.$set(e.featureSource,"yearItems",t.data),""!=e.feature.modelyear&&Object(i.t)({modelyearId:e.feature.modelyear}).then(function(t){e.$set(e.featureSource,"modelItems",t.data)}))}))})}}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"feature-containner"},[a("div",{staticClass:"feature-header"},[a("span",[e._v("车型特征录入")]),e._v(" "),""==e.feature.id?a("el-button",{staticClass:"btn-reset",attrs:{size:"small",type:"primary"},on:{click:e.handleReset}},[e._v("重置")]):e._e()],1),e._v(" "),a("el-collapse",{ref:"featureDiv",on:{change:e.handleGroup},model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[a("div",{staticClass:"feature-hotindex"},[a("span",[e._v("热门指数：")]),e._v(" "),a("el-rate",{model:{value:e.feature.hotindex,callback:function(t){e.$set(e.feature,"hotindex",t)},expression:"feature.hotindex"}})],1),e._v(" "),a("el-collapse-item",{attrs:{name:"1",title:"品牌类型"}},[a("div",{staticClass:"feature-item"},[a("span",[e._v("品牌：")]),e._v(" "),a("el-select",{staticClass:"feature-selector-inner",class:{error:e.rules.brand},attrs:{placeholder:"请选择",id:"brandSelector",name:"brandSelector",filterable:""},on:{change:function(t){e.handleChange("brand")}},model:{value:e.feature.brand,callback:function(t){e.$set(e.feature,"brand",t)},expression:"feature.brand"}},e._l(this.featureSource.brandItems,function(t,i){return a("div",{key:i},e._l(t.itemSource,function(e,t){return a("el-option",{key:t,staticClass:"feature-selector-inner",attrs:{label:e.name,value:e.value}})}))}))],1),e._v(" "),a("div",{staticClass:"feature-item"},[a("span",[e._v("车系：")]),e._v(" "),a("el-select",{staticClass:"feature-selector-inner",class:{error:e.rules.series},attrs:{placeholder:"请选择"},on:{change:function(t){e.handleChange("series")}},model:{value:e.feature.series,callback:function(t){e.$set(e.feature,"series",t)},expression:"feature.series"}},e._l(this.featureSource.seriesItems,function(e,t){return a("el-option",{key:t,staticClass:"feature-selector-inner",attrs:{label:e.value,value:e.key}})}))],1),e._v(" "),a("div",{staticClass:"feature-item"},[a("span",[e._v("年款：")]),e._v(" "),a("el-select",{staticClass:"feature-selector-inner",class:{error:e.rules.modelyear},attrs:{placeholder:"请选择"},on:{change:function(t){e.handleChange("modelyear")}},model:{value:e.feature.modelyear,callback:function(t){e.$set(e.feature,"modelyear",t)},expression:"feature.modelyear"}},e._l(this.featureSource.yearItems,function(e,t){return a("el-option",{key:t,staticClass:"feature-selector-inner",attrs:{label:e.value,value:e.key}})}))],1),e._v(" "),a("div",{staticClass:"feature-item"},[a("span",[e._v("配置型：")]),e._v(" "),a("el-select",{staticClass:"feature-selector-inner",class:{error:e.rules.model},attrs:{placeholder:"请选择"},on:{change:function(t){e.handleChange("model")}},model:{value:e.feature.model,callback:function(t){e.$set(e.feature,"model",t)},expression:"feature.model"}},e._l(this.featureSource.modelItems,function(e,t){return a("el-option",{key:t,staticClass:"feature-selector-inner",attrs:{label:e.value,value:e.key}})}))],1),e._v(" "),a("div",{staticClass:"feature-item"},[a("span",[e._v("车型：")]),e._v(" "),a("el-select",{staticClass:"feature-selector-inner",class:{error:e.rules.type},attrs:{placeholder:"请选择",disabled:!e.canEditFeature},on:{change:function(t){e.handleChange("type")}},model:{value:e.feature.type,callback:function(t){e.$set(e.feature,"type",t)},expression:"feature.type"}},e._l(this.featureSource.carTypeItems,function(e,t){return a("el-option",{key:t,staticClass:"feature-selector-inner",attrs:{label:e.name,value:e.value}})}))],1),e._v(" "),a("div",{staticClass:"feature-item"},[a("span",[e._v("厢形：")]),e._v(" "),a("el-select",{staticClass:"feature-selector-inner",attrs:{placeholder:"请选择",disabled:!e.canEditFeature},on:{change:e.handleChange},model:{value:e.feature.xiangxing,callback:function(t){e.$set(e.feature,"xiangxing",t)},expression:"feature.xiangxing"}},e._l(this.featureSource.carriageTypeItems,function(e,t){return a("el-option",{key:t,staticClass:"feature-selector-inner",attrs:{label:e.name,value:e.value}})}))],1),e._v(" "),a("div",{staticClass:"feature-item"},[a("span",[e._v("车标框形：")]),e._v(" "),a("el-select",{staticClass:"feature-selector-inner",attrs:{placeholder:"请选择",disabled:!e.canEditFeature},on:{change:e.handleChange},model:{value:e.feature.chebiaokuangxing,callback:function(t){e.$set(e.feature,"chebiaokuangxing",t)},expression:"feature.chebiaokuangxing"}},e._l(this.featureSource.logoShapeItems,function(e,t){return a("el-option",{key:t,staticClass:"feature-selector-inner",attrs:{label:e.name,value:e.value}})}))],1),e._v(" "),a("div",{staticClass:"feature-item"},[a("span",[e._v("车标位置：")]),e._v(" "),a("el-select",{staticClass:"feature-selector-inner",attrs:{placeholder:"请选择",disabled:!e.canEditFeature},on:{change:e.handleChange},model:{value:e.feature.chebiaoweizhi,callback:function(t){e.$set(e.feature,"chebiaoweizhi",t)},expression:"feature.chebiaoweizhi"}},e._l(this.featureSource.logoPlacementItems,function(e,t){return a("el-option",{key:t,staticClass:"feature-selector-inner",attrs:{label:e.name,value:e.value}})}))],1)]),e._v(" "),a("el-collapse-item",{attrs:{name:"2",title:"车身前面"}},[a("div",{staticClass:"feature-item"},[a("span",[e._v("格栅结构：")]),e._v(" "),a("el-select",{staticClass:"feature-selector-inner",attrs:{placeholder:"请选择",disabled:!e.canEditFeature},on:{change:e.handleChange},model:{value:e.feature.geshanjiegou,callback:function(t){e.$set(e.feature,"geshanjiegou",t)},expression:"feature.geshanjiegou"}},e._l(this.featureSource.geshanjiegouItems,function(e,t){return a("el-option",{key:t,staticClass:"feature-selector-inner",attrs:{label:e.name,value:e.value}})}))],1),e._v(" "),a("div",{staticClass:"feature-item"},[a("span",[e._v("上格栅形：")]),e._v(" "),a("el-select",{staticClass:"feature-selector-inner",attrs:{placeholder:"请选择",disabled:!e.canEditFeature},on:{change:e.handleChange},model:{value:e.feature.shanggeshanxing,callback:function(t){e.$set(e.feature,"shanggeshanxing",t)},expression:"feature.shanggeshanxing"}},e._l(this.featureSource.shanggeshanxingItems,function(e,t){return a("el-option",{key:t,staticClass:"feature-selector-inner",attrs:{label:e.name,value:e.value}})}))],1),e._v(" "),a("div",{staticClass:"feature-item"},[a("span",[e._v("格栅前雾：")]),e._v(" "),a("el-select",{staticClass:"feature-selector-inner",attrs:{placeholder:"请选择",disabled:!e.canEditFeature},on:{change:e.handleChange},model:{value:e.feature.geshanqianwu,callback:function(t){e.$set(e.feature,"geshanqianwu",t)},expression:"feature.geshanqianwu"}},e._l(this.featureSource.geshanqianwuItems,function(e,t){return a("el-option",{key:t,staticClass:"feature-selector-inner",attrs:{label:e.name,value:e.value}})}))],1),e._v(" "),a("div",{staticClass:"feature-item"},[a("span",[e._v("格栅前照：")]),e._v(" "),a("el-select",{staticClass:"feature-selector-inner",attrs:{placeholder:"请选择",disabled:!e.canEditFeature},on:{change:e.handleChange},model:{value:e.feature.geshanqianzhao,callback:function(t){e.$set(e.feature,"geshanqianzhao",t)},expression:"feature.geshanqianzhao"}},e._l(this.featureSource.geshanqianzhaoItems,function(e,t){return a("el-option",{key:t,staticClass:"feature-selector-inner",attrs:{label:e.name,value:e.value}})}))],1),e._v(" "),a("div",{staticClass:"feature-item"},[a("span",[e._v("前包护板：")]),e._v(" "),a("el-select",{staticClass:"feature-selector-inner",attrs:{placeholder:"请选择",disabled:!e.canEditFeature},on:{change:e.handleChange},model:{value:e.feature.qianbaohuban,callback:function(t){e.$set(e.feature,"qianbaohuban",t)},expression:"feature.qianbaohuban"}},e._l(this.featureSource.qianbaohubanItems,function(e,t){return a("el-option",{key:t,staticClass:"feature-selector-inner",attrs:{label:e.name,value:e.value}})}))],1),e._v(" "),a("div",{staticClass:"feature-item"},[a("span",[e._v("新能源标：")]),e._v(" "),a("el-select",{staticClass:"feature-selector-inner",attrs:{placeholder:"请选择",disabled:!e.canEditFeature},on:{change:e.handleChange},model:{value:e.feature.frontxinnengyuanbiao,callback:function(t){e.$set(e.feature,"frontxinnengyuanbiao",t)},expression:"feature.frontxinnengyuanbiao"}},e._l(this.featureSource.frontxinnengyuanbiaoItems,function(e,t){return a("el-option",{key:t,staticClass:"feature-selector-inner",attrs:{label:e.name,value:e.value}})}))],1)]),e._v(" "),a("el-collapse-item",{attrs:{name:"3",title:"车身侧面"}},[a("div",{staticClass:"feature-item"},[a("span",[e._v("B柱颜色：")]),e._v(" "),a("el-select",{staticClass:"feature-selector-inner",attrs:{placeholder:"请选择",disabled:!e.canEditFeature},on:{change:e.handleChange},model:{value:e.feature.bzhuyanse,callback:function(t){e.$set(e.feature,"bzhuyanse",t)},expression:"feature.bzhuyanse"}},e._l(this.featureSource.bzhuyanseItems,function(e,t){return a("el-option",{key:t,staticClass:"feature-selector-inner",attrs:{label:e.name,value:e.value}})}))],1),e._v(" "),a("div",{staticClass:"feature-item"},[a("span",[e._v("后窗小窗：")]),e._v(" "),a("el-select",{staticClass:"feature-selector-inner",attrs:{placeholder:"请选择",disabled:!e.canEditFeature},on:{change:e.handleChange},model:{value:e.feature.houchuangxiaochuang,callback:function(t){e.$set(e.feature,"houchuangxiaochuang",t)},expression:"feature.houchuangxiaochuang"}},e._l(this.featureSource.houchuangxiaochuangItems,function(e,t){return a("el-option",{key:t,staticClass:"feature-selector-inner",attrs:{label:e.name,value:e.value}})}))],1),e._v(" "),a("div",{staticClass:"feature-item"},[a("span",[e._v("后窗下沿：")]),e._v(" "),a("el-select",{staticClass:"feature-selector-inner",attrs:{placeholder:"请选择",disabled:!e.canEditFeature},on:{change:e.handleChange},model:{value:e.feature.houchuangxiayan,callback:function(t){e.$set(e.feature,"houchuangxiayan",t)},expression:"feature.houchuangxiayan"}},e._l(this.featureSource.houchuangxiayanItems,function(e,t){return a("el-option",{key:t,staticClass:"feature-selector-inner",attrs:{label:e.name,value:e.value}})}))],1),e._v(" "),a("div",{staticClass:"feature-item"},[a("span",[e._v("门把手：")]),e._v(" "),a("el-select",{staticClass:"feature-selector-inner",attrs:{placeholder:"请选择",disabled:!e.canEditFeature},on:{change:e.handleChange},model:{value:e.feature.menbashou,callback:function(t){e.$set(e.feature,"menbashou",t)},expression:"feature.menbashou"}},e._l(this.featureSource.menbashouItems,function(e,t){return a("el-option",{key:t,staticClass:"feature-selector-inner",attrs:{label:e.name,value:e.value}})}))],1),e._v(" "),a("div",{staticClass:"feature-item"},[a("span",[e._v("门把手颜色：")]),e._v(" "),a("el-select",{staticClass:"feature-selector-inner",attrs:{placeholder:"请选择",disabled:!e.canEditFeature},on:{change:e.handleChange},model:{value:e.feature.menbashouyanse,callback:function(t){e.$set(e.feature,"menbashouyanse",t)},expression:"feature.menbashouyanse"}},e._l(this.featureSource.menbashouyanseItems,function(e,t){return a("el-option",{key:t,staticClass:"feature-selector-inner",attrs:{label:e.name,value:e.value}})}))],1),e._v(" "),a("div",{staticClass:"feature-item"},[a("span",[e._v("门线圈：")]),e._v(" "),a("el-select",{staticClass:"feature-selector-inner",attrs:{placeholder:"请选择",disabled:!e.canEditFeature},on:{change:e.handleChange},model:{value:e.feature.menxianwei,callback:function(t){e.$set(e.feature,"menxianwei",t)},expression:"feature.menxianwei"}},e._l(this.featureSource.menxianweiItems,function(e,t){return a("el-option",{key:t,staticClass:"feature-selector-inner",attrs:{label:e.name,value:e.value}})}))],1),e._v(" "),a("div",{staticClass:"feature-item"},[a("span",[e._v("油箱盖位：")]),e._v(" "),a("el-select",{staticClass:"feature-selector-inner",attrs:{placeholder:"请选择",disabled:!e.canEditFeature},on:{change:e.handleChange},model:{value:e.feature.youxianggaiwei,callback:function(t){e.$set(e.feature,"youxianggaiwei",t)},expression:"feature.youxianggaiwei"}},e._l(this.featureSource.youxianggaiweiItems,function(e,t){return a("el-option",{key:t,staticClass:"feature-selector-inner",attrs:{label:e.name,value:e.value}})}))],1),e._v(" "),a("div",{staticClass:"feature-item"},[a("span",[e._v("轮毂轮辐：")]),e._v(" "),a("el-select",{staticClass:"feature-selector-inner",attrs:{placeholder:"请选择",disabled:!e.canEditFeature},on:{change:e.handleChange},model:{value:e.feature.lungulunfu,callback:function(t){e.$set(e.feature,"lungulunfu",t)},expression:"feature.lungulunfu"}},e._l(this.featureSource.lungulunfuItems,function(e,t){return a("el-option",{key:t,staticClass:"feature-selector-inner",attrs:{label:e.name,value:e.value}})}))],1),e._v(" "),a("div",{staticClass:"feature-item"},[a("span",[e._v("腮饰：")]),e._v(" "),a("el-select",{staticClass:"feature-selector-inner",attrs:{placeholder:"请选择",disabled:!e.canEditFeature},on:{change:e.handleChange},model:{value:e.feature.saishi,callback:function(t){e.$set(e.feature,"saishi",t)},expression:"feature.saishi"}},e._l(this.featureSource.saishiItems,function(e,t){return a("el-option",{key:t,staticClass:"feature-selector-inner",attrs:{label:e.name,value:e.value}})}))],1),e._v(" "),a("div",{staticClass:"feature-item"},[a("span",[e._v("侧窗框：")]),e._v(" "),a("el-select",{staticClass:"feature-selector-inner",attrs:{placeholder:"请选择",disabled:!e.canEditFeature},on:{change:e.handleChange},model:{value:e.feature.chechuangneikuang,callback:function(t){e.$set(e.feature,"chechuangneikuang",t)},expression:"feature.chechuangneikuang"}},e._l(this.featureSource.chechuangneikuangItems,function(e,t){return a("el-option",{key:t,staticClass:"feature-selector-inner",attrs:{label:e.name,value:e.value}})}))],1)]),e._v(" "),a("el-collapse-item",{attrs:{name:"4",title:"车身后面"}},[a("div",{staticClass:"feature-item"},[a("span",[e._v("后窗框形：")]),e._v(" "),a("el-select",{staticClass:"feature-selector-inner",attrs:{placeholder:"请选择",disabled:!e.canEditFeature},on:{change:e.handleChange},model:{value:e.feature.houchuangkuangxing,callback:function(t){e.$set(e.feature,"houchuangkuangxing",t)},expression:"feature.houchuangkuangxing"}},e._l(this.featureSource.houchuangkuangxingItems,function(e,t){return a("el-option",{key:t,staticClass:"feature-selector-inner",attrs:{label:e.name,value:e.value}})}))],1),e._v(" "),a("div",{staticClass:"feature-item"},[a("span",[e._v("尾灯位置：")]),e._v(" "),a("el-select",{staticClass:"feature-selector-inner",attrs:{placeholder:"请选择",disabled:!e.canEditFeature},on:{change:e.handleChange},model:{value:e.feature.weidengweizhi,callback:function(t){e.$set(e.feature,"weidengweizhi",t)},expression:"feature.weidengweizhi"}},e._l(this.featureSource.weidengweizhiItems,function(e,t){return a("el-option",{key:t,staticClass:"feature-selector-inner",attrs:{label:e.name,value:e.value}})}))],1),e._v(" "),a("div",{staticClass:"feature-item"},[a("span",[e._v("尾灯形状：")]),e._v(" "),a("el-select",{staticClass:"feature-selector-inner",attrs:{placeholder:"请选择",disabled:!e.canEditFeature},on:{change:e.handleChange},model:{value:e.feature.weidengxingzhuang,callback:function(t){e.$set(e.feature,"weidengxingzhuang",t)},expression:"feature.weidengxingzhuang"}},e._l(this.featureSource.weidengxingzhuangItems,function(e,t){return a("el-option",{key:t,staticClass:"feature-selector-inner",attrs:{label:e.name,value:e.value}})}))],1),e._v(" "),a("div",{staticClass:"feature-item"},[a("span",[e._v("号牌框眉：")]),e._v(" "),a("el-select",{staticClass:"feature-selector-inner",attrs:{placeholder:"请选择",disabled:!e.canEditFeature},on:{change:e.handleChange},model:{value:e.feature.haopaikuangmei,callback:function(t){e.$set(e.feature,"haopaikuangmei",t)},expression:"feature.haopaikuangmei"}},e._l(this.featureSource.haopaikuangmeiItems,function(e,t){return a("el-option",{key:t,staticClass:"feature-selector-inner",attrs:{label:e.name,value:e.value}})}))],1),e._v(" "),a("div",{staticClass:"feature-item"},[a("span",[e._v("号牌框形：")]),e._v(" "),a("el-select",{staticClass:"feature-selector-inner",attrs:{placeholder:"请选择",disabled:!e.canEditFeature},on:{change:e.handleChange},model:{value:e.feature.haopaikuangxing,callback:function(t){e.$set(e.feature,"haopaikuangxing",t)},expression:"feature.haopaikuangxing"}},e._l(this.featureSource.haopaikuangxingItems,function(e,t){return a("el-option",{key:t,staticClass:"feature-selector-inner",attrs:{label:e.name,value:e.value}})}))],1),e._v(" "),a("div",{staticClass:"feature-item"},[a("span",[e._v("号牌位置：")]),e._v(" "),a("el-select",{staticClass:"feature-selector-inner",attrs:{placeholder:"请选择",disabled:!e.canEditFeature},on:{change:e.handleChange},model:{value:e.feature.haopaiweizhi,callback:function(t){e.$set(e.feature,"haopaiweizhi",t)},expression:"feature.haopaiweizhi"}},e._l(this.featureSource.haopaiweizhiItems,function(e,t){return a("el-option",{key:t,staticClass:"feature-selector-inner",attrs:{label:e.name,value:e.value}})}))],1),e._v(" "),a("div",{staticClass:"feature-item"},[a("span",[e._v("高位制动灯：")]),e._v(" "),a("el-select",{staticClass:"feature-selector-inner",attrs:{placeholder:"请选择",disabled:!e.canEditFeature},on:{change:e.handleChange},model:{value:e.feature.gaoweizhidongdeng,callback:function(t){e.$set(e.feature,"gaoweizhidongdeng",t)},expression:"feature.gaoweizhidongdeng"}},e._l(this.featureSource.gaoweizhidongdengItems,function(e,t){return a("el-option",{key:t,staticClass:"feature-selector-inner",attrs:{label:e.name,value:e.value}})}))],1),e._v(" "),a("div",{staticClass:"feature-item"},[a("span",[e._v("后防雾灯：")]),e._v(" "),a("el-select",{staticClass:"feature-selector-inner",attrs:{placeholder:"请选择",disabled:!e.canEditFeature},on:{change:e.handleChange},model:{value:e.feature.houfangwudeng,callback:function(t){e.$set(e.feature,"houfangwudeng",t)},expression:"feature.houfangwudeng"}},e._l(this.featureSource.houfangwudengItems,function(e,t){return a("el-option",{key:t,staticClass:"feature-selector-inner",attrs:{label:e.name,value:e.value}})}))],1),e._v(" "),a("div",{staticClass:"feature-item"},[a("span",[e._v("排气口位：")]),e._v(" "),a("el-select",{staticClass:"feature-selector-inner",attrs:{placeholder:"请选择",disabled:!e.canEditFeature},on:{change:e.handleChange},model:{value:e.feature.paiqikouwei,callback:function(t){e.$set(e.feature,"paiqikouwei",t)},expression:"feature.paiqikouwei"}},e._l(this.featureSource.paiqikouweiItems,function(e,t){return a("el-option",{key:t,staticClass:"feature-selector-inner",attrs:{label:e.name,value:e.value}})}))],1),e._v(" "),a("div",{staticClass:"feature-item"},[a("span",[e._v("外挂备胎：")]),e._v(" "),a("el-select",{staticClass:"feature-selector-inner",attrs:{placeholder:"请选择",disabled:!e.canEditFeature},on:{change:e.handleChange},model:{value:e.feature.waiguabeitai,callback:function(t){e.$set(e.feature,"waiguabeitai",t)},expression:"feature.waiguabeitai"}},e._l(this.featureSource.waiguabeitaiItems,function(e,t){return a("el-option",{key:t,staticClass:"feature-selector-inner",attrs:{label:e.name,value:e.value}})}))],1),e._v(" "),a("div",{staticClass:"feature-item"},[a("span",[e._v("新能源标：")]),e._v(" "),a("el-select",{staticClass:"feature-selector-inner",attrs:{placeholder:"请选择",disabled:!e.canEditFeature},on:{change:e.handleChange},model:{value:e.feature.backxinnengyuanbiao,callback:function(t){e.$set(e.feature,"backxinnengyuanbiao",t)},expression:"feature.backxinnengyuanbiao"}},e._l(this.featureSource.backxinnengyuanbiaoItems,function(e,t){return a("el-option",{key:t,staticClass:"feature-selector-inner",attrs:{label:e.name,value:e.value}})}))],1)]),e._v(" "),a("el-collapse-item",{ref:"item5",attrs:{name:"5",title:"车身顶部"}},[a("div",{staticClass:"feature-item"},[a("span",[e._v("顶密封条：")]),e._v(" "),a("el-select",{staticClass:"feature-selector-inner",attrs:{placeholder:"请选择",disabled:!e.canEditFeature},on:{change:e.handleChange},model:{value:e.feature.dingmifengtiao,callback:function(t){e.$set(e.feature,"dingmifengtiao",t)},expression:"feature.dingmifengtiao"}},e._l(this.featureSource.dingmifengtiaoItems,function(e,t){return a("el-option",{key:t,staticClass:"feature-selector-inner",attrs:{label:e.name,value:e.value}})}))],1),e._v(" "),a("div",{staticClass:"feature-item"},[a("span",[e._v("尾翼扰流：")]),e._v(" "),a("el-select",{staticClass:"feature-selector-inner",attrs:{placeholder:"请选择",disabled:!e.canEditFeature},on:{change:e.handleChange},model:{value:e.feature.weiyiraoliu,callback:function(t){e.$set(e.feature,"weiyiraoliu",t)},expression:"feature.weiyiraoliu"}},e._l(this.featureSource.weiyiraoliuItems,function(e,t){return a("el-option",{key:t,staticClass:"feature-selector-inner",attrs:{label:e.name,value:e.value}})}))],1),e._v(" "),a("div",{staticClass:"feature-item"},[a("span",[e._v("行李支架：")]),e._v(" "),a("el-select",{staticClass:"feature-selector-inner",attrs:{placeholder:"请选择",disabled:!e.canEditFeature},on:{change:e.handleChange},model:{value:e.feature.xinglizhijia,callback:function(t){e.$set(e.feature,"xinglizhijia",t)},expression:"feature.xinglizhijia"}},e._l(this.featureSource.xinglizhijiaItems,function(e,t){return a("el-option",{key:t,staticClass:"feature-selector-inner",attrs:{label:e.name,value:e.value}})}))],1),e._v(" "),a("div",{staticClass:"feature-item"},[a("span",[e._v("背鯺天线：")]),e._v(" "),a("el-select",{staticClass:"feature-selector-inner",attrs:{placeholder:"请选择",disabled:!e.canEditFeature},on:{change:e.handleChange},model:{value:e.feature.beijitianxian,callback:function(t){e.$set(e.feature,"beijitianxian",t)},expression:"feature.beijitianxian"}},e._l(this.featureSource.beijitianxianItems,function(e,t){return a("el-option",{key:t,staticClass:"feature-selector-inner",attrs:{label:e.name,value:e.value}})}))],1)])],1)],1)},staticRenderFns:[]};var o=a("vSla")(n,l,!1,function(e){a("hOhR")},null,null);t.default=o.exports},IiU4:function(e,t){},IuJM:function(e,t){},JvBQ:function(e,t){},OdnX:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={components:{VehicleList:a("mAKP").default}},s={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("vehicle-list",{attrs:{"audit-status":"1"}})],1)},staticRenderFns:[]},n=a("vSla")(i,s,!1,null,null,null);t.default=n.exports},Py02:function(e,t){},St21:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("vSla")(null,null,!1,null,null,null);t.default=i.exports},UwQK:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),s=a.n(i),n=a("p00s"),l=a.n(n),o=a("FPm9"),r=a("4huF"),c=a("gyMJ"),u=a("CFoi"),d=(a("dVeB"),{name:"Add",components:{FeatureSelector:o.default,ImageSelector:r.default},data:function(){return{slectedCarInfo:{images:Object(u.b)(),imageid:0,features:Object(u.a)()},selectedCarImages:{images:Object(u.b)(),imageid:0},canSave:!0,canEditFeature:!0,upmarks:{},upImages:[],deleteImageIds:[],onLoading:!1,validatesRules:{brand:!1,modelyear:!1,series:!1,model:!1},showF:!1}},methods:{updateMarks:function(e,t){var a=[];void 0!==e&&e.length>0&&e.map(function(e){a.push({top:e.top,left:e.left,width:e.width,height:e.height,originalWidth:e.originalWidth,originalHeight:e.originalHeight})}),this.upmarks[t]=a,console.log(this.upmarks)},updateImages:function(e){this.upImages=e,console.log(e)},handleDeleteImageId:function(e){console.log("handleDeleteImageId"),-1===this.deleteImageIds.indexOf(e)&&this.deleteImageIds.push(e)},updateFeatures:function(e,t){var a=this;this.slectedCarInfo.features=e,this.validatesRules.hasOwnProperty(t)&&this.slectedCarInfo.features.hasOwnProperty(t)&&(console.log("select P :"+t+"this.slectedCarInfo.features[propertyName] =null :"+this.slectedCarInfo.features[t]!=""),this.validatesRules[t]=""==this.slectedCarInfo.features[t]),"model"==t?Object(c.k)(this.slectedCarInfo.features.brand,this.slectedCarInfo.features.series,this.slectedCarInfo.features.modelyear,this.slectedCarInfo.features.model).then(function(e){""!==e.data?(a.$message({type:"warning",message:"该车型已存在，不可重复录入！"}),a.canSave&&(a.canSave=!1),a.canEditFeature&&(a.canEditFeature=!1)):(a.canSave||(a.canSave=!0),a.canEditFeature||(a.canEditFeature=!0))}):(this.canSave||(this.canSave=!0),this.canEditFeature||(this.canEditFeature=!0)),console.log(e)},resetFeatures:function(){this.$set(this.slectedCarInfo,"features",Object(u.a)())},onSaveDone:function(){this.onLoading=!1,this.deleteImageIds=[],this.slectedCarInfo.features.brand="",this.slectedCarInfo.features.modelyear="",this.slectedCarInfo.features.series="",this.slectedCarInfo.features.model="",this.slectedCarInfo.features.id="",this.upmarks={},this.upImages=[],this.deleteImageIds=[],this.$message({type:"success",message:"操作完成",duration:1e3}),this.$root.$emit("car-saved-done")},handleCheckRules:function(){var e=this,t=!1,a=l()(this.validatesRules).filter(function(t){return e.validatesRules.hasOwnProperty(t)&&e.slectedCarInfo.features.hasOwnProperty(t)&&"__"!==t.substring(0,2)});return void 0!=a&&a.length>0&&a.forEach(function(a){e.validatesRules[a]=""==e.slectedCarInfo.features[a],t||(t=e.validatesRules[a]),console.log("validateRule"+t+e.validatesRules[a])}),t},handleSave:function(){this.handleCheckRules()?this.$message({type:"warning",message:"请输入必填信息！"}):this.doSave()},doSave:function(){var e=this;this.onLoading=!0,Object(c.c)(this.slectedCarInfo.features).then(function(t){if(t.success){var a=t.data;if(e.upImages.length>0||e.deleteImageIds.length>0){var i=new FormData;e.upImages.map(function(e,t){i.append("files",e.raw)}),i.append("parameters",new Blob([s()(e.upmarks)],{type:"application/json"})),i.append("imgeIds",new Blob([s()(e.deleteImageIds)],{type:"application/json"})),Object(c.U)(i,"/images/"+a).then(function(t){e.onSaveDone()}).catch(function(t){e.onLoading=!1,e.$message({type:"error",message:"保存图片失败！",duration:1e3})})}else e.onSaveDone()}else e.onLoading=!1}).catch(function(t){e.onLoading=!1,e.$message({type:"error",message:"保存特征失败！",duration:1e3})})},resetSize:function(){this.$refs.bb.style.height=document.documentElement.clientHeight-125+"px"}},mounted:function(){var e=navigator.userAgent.indexOf("Chrome")>-1?0:200;setTimeout(function(){this.showF=!0}.bind(this),e),this.resetSize(),window.addEventListener("resize",this.resetSize)},beforeDestroy:function(){window.removeEventListener("resize",this.resetSize)}}),h={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"bb",staticClass:"add-car-containner"},[a("el-row",{directives:[{name:"loading",rawName:"v-loading",value:e.onLoading,expression:"onLoading"}],staticClass:"car-add-containner",attrs:{"element-loading-text":"正在保存..."}},[a("el-col",{staticClass:"car-image-selector car-add-cell-col",attrs:{span:13}},[a("ImageSelector",{ref:"child",on:{"image-delete-id":e.handleDeleteImageId,updateImages:e.updateImages,updateMarks:e.updateMarks}})],1),e._v(" "),e.showF?a("el-col",{staticClass:"car-add-cell-col",attrs:{span:9}},[a("FeatureSelector",{attrs:{"features-info":e.slectedCarInfo,rules:e.validatesRules,"can-edit-feature":e.canEditFeature},on:{"feature:changed":e.updateFeatures,"feature:reset":e.resetFeatures}}),e._v(" "),a("el-button",{staticClass:"btn-save",attrs:{type:"primary",size:"small",disabled:!e.canSave},on:{click:e.handleSave}},[e._v("保存")])],1):e._e()],1)],1)},staticRenderFns:[]};var m=a("vSla")(d,h,!1,function(e){a("9i9p")},null,null);t.default=m.exports},VOgX:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={props:["imageUrl","index","selectedIndex"],data:function(){return{image:this.$props.imageUrl,prevent:!1,timer:null,delay:200,imageSet:{width:96,height:72}}},methods:{handleSelected:function(e){if(null!=e){var t={};t.name=e.name,t.url=e.url,this.image=t,t=null,this.$emit("add",e,this.$props.index,this.image)}},handleRemove:function(e){null!=this.$props.imageUrl&&this.$emit("deleted",this.$props.imageUrl,this.$props.index,e)},handleDBClick:function(){clearTimeout(this.timer),this.prevent=!0,console.log("handleDBClick"),this.handleRemove(this.$refs.dd.$children[0].handleClick)},handleSelect:function(){this.timer=setTimeout(function(){console.log("setTimeout"),this.prevent||(console.log("handleSelect"),null!=this.$props.imageUrl&&this.$emit("selected",this.$props.imageUrl,this.$props.index)),this.prevent=!1}.bind(this),this.delay)}}},s={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"img-upload"},[i("div",{directives:[{name:"show",rawName:"v-show",value:null!=e.imageUrl&&""!=e.imageUrl.url,expression:"imageUrl != null && imageUrl.url != ''"}]},[i("div",{class:[this.$props.selectedIndex==this.$props.index?"img-selected":"","img-containner"]},[i("img",{directives:[{name:"image-resize",rawName:"v-image-resize",value:e.imageSet,expression:"imageSet"}],attrs:{src:e.imageUrl.url,onerror:'this.src="'+a("f4JG")+'"'},on:{click:e.handleSelect,dblclick:e.handleDBClick}}),e._v(" "),i("i",{staticClass:"el-icon-delete img-btn-delete",on:{click:e.handleRemove}})]),e._v(" "),i("p",{staticClass:"img-title",domProps:{textContent:e._s(e.imageUrl.name)}})]),e._v(" "),i("el-upload",{directives:[{name:"show",rawName:"v-show",value:null==e.imageUrl||""==e.imageUrl.url,expression:"imageUrl == null || imageUrl.url == ''"}],ref:"dd",staticClass:"img-upload",attrs:{action:"/api/files","auto-upload":!1,"on-change":e.handleSelected,"list-type":"picture-card","show-file-list":!1,objectBind:e.index,accept:"image/png, image/jpeg","on-remove":e.handleRemove},on:{click:function(e){}}},[i("i",{staticClass:"el-icon-plus"})])],1)},staticRenderFns:[]};var n=a("vSla")(i,s,!1,function(e){a("txLu")},null,null);t.default=n.exports},ZZZ8:function(e,t,a){a("hSSI");var i=a("AKd3").Object;e.exports=function(e){return i.getOwnPropertyNames(e)}},Zf0t:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("gyMJ");a("jNUx");var s={data:function(){return{uploadModel:{file:null,startRowIndex:2,sheetIndex:0},fileName:"",onSaving:!1,message:""}},methods:{onUploadClick:function(){this.message="",this.$el.querySelector("#uploadFile").click()},onUploadFileChanged:function(e){this.fileName=e.target.value,this.uploadModel.file=e.target.files[0],console.log(this.fileName)},onImportExcel:function(){var e=this;this.onSaving=!0;var t=new FormData;t.append("file",this.uploadModel.file),t.append("startRowIndex",this.uploadModel.startRowIndex),t.append("sheetIndex",this.uploadModel.sheetIndex),Object(i.G)(t).then(function(t){e.onSaving=!1,e.message=t.data,t.success?e.$message({type:"success",message:"操作成功"}):e.$message({type:"warning",message:"操作失败"})}).catch(function(t){e.onSaving=!1,e.$message.error("保存异常")})}},computed:{canSave:function(){return""==this.fileName||!this.fileName.endsWith(".xls")&&!this.fileName.endsWith(".xlsx")||null==this.uploadModel.file}}},n={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.onSaving,expression:"onSaving"}],staticClass:"inputFileWrapper",attrs:{model:e.uploadModel,"element-loading-text":"正在导入..."}},[a("el-form-item",{attrs:{label:""}},[a("label",{attrs:{for:"inputFile"}},[a("input",{attrs:{type:"file",id:"uploadFile",accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,application/vnd.ms-excel"},on:{change:e.onUploadFileChanged}}),e._v(" "),a("span",{staticClass:"custorm-style"},[a("span",{staticClass:"left-button",on:{click:e.onUploadClick}},[e._v("选择文件")]),e._v(" "),a("span",{staticClass:"right-text",attrs:{id:"rightText"}},[e._v(e._s(e.fileName))])])]),e._v(" "),a("el-button",{staticClass:"btn-import",attrs:{disabled:e.canSave,type:"primary",size:"small"},on:{click:e.onImportExcel}},[e._v("保存")]),e._v(" "),a("a",{attrs:{href:"/static/templates/车型网车型数据搜集.xlsx"}},[e._v("获取模板")])],1),e._v(" "),a("span",{staticStyle:{color:"red"}},[e._v("目前仅支持excel 品牌模板导入！")]),e._v(" "),a("p",[e._v(e._s(e.message))])],1)},staticRenderFns:[]};var l=a("vSla")(s,n,!1,function(e){a("3PO9")},null,null);t.default=l.exports},ZtVQ:function(e,t){},dHZE:function(e,t){},hOhR:function(e,t){},hSSI:function(e,t,a){a("t+Om")("getOwnPropertyNames",function(){return a("7J6k").f})},i8lk:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("gyMJ"),s={name:"edit",components:{icareDialog:a("tW1D").default},props:["propsVisible","propsEditInfo","propsEditMode"],data:function(){return{visible:!1,title:"新增角色",formModel:{code:"",name:"",description:"",defaultUrl:"",isBackend:!1,enabled:!0},rules:{code:[{required:!0,message:"必填:编码",trigger:"blur"},{min:3,max:18,message:"长度在 3 到 18 个字符",trigger:"blur"},{validator:this.$validators.blankValidator("编码"),trigger:"blur"}],name:[{required:!0,message:"必填:名称",trigger:"blur"},{min:3,max:18,message:"长度在 3 到 18 个字符",trigger:"blur"},{validator:this.$validators.blankValidator("名称"),trigger:"blur"}],defaultUrl:[{required:!1,message:"必选:默认页面",trigger:"blur"}]},isLoading:!1,menus:[]}},mounted:function(){var e=this;this.$nextTick(function(){Object(i.m)({}).then(function(t){e.menus=t.data})})},methods:{onCancel:function(){this.visible=!1,this.clearForm(),this.$emit("editClosed")},onSubmit:function(){var e=this,t=this;this.$refs.formModel.validate(function(a){if(!a)return!1;e.formModel.id?(e.isLoading=!0,Object(i.Q)({roleId:e.formModel.id,roleInfo:e.formModel}).then(function(e){if(e.success){e.data;t.$message({type:"success",message:"操作成功"}),t.doEditCompleted()}t.isLoading=!1})):(t.isLoading=!0,Object(i.a)({roleInfo:t.formModel}).then(function(e){if(e.success){e.data;t.$message({type:"success",message:"操作成功"}),t.doEditCompleted()}t.isLoading=!1}))})},doEditCompleted:function(){this.visible=!1,this.clearForm(),this.$emit("editCompleted")},clearForm:function(){this.formModel={code:"",name:"",description:"",defaultUrl:"",isBackend:!1,enabled:!0},this.$refs.formModel.resetFields()}},computed:{codeDisabled:function(){return this.propsEditMode==this.GLOBAL.formAction.EDIT},defaultUrlVisible:function(){return this.formModel.isBackend}},watch:{propsEditInfo:function(e){this.formModel=e},propsVisible:function(e){this.visible=e},propsEditMode:function(e){this.title=e==this.GLOBAL.formAction.ADD?"新增角色":"编辑角色"},defaultUrlVisible:function(e){this.rules.defaultUrl[0].required=e,e||(this.formModel.defaultUrl="")}}},n={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("icare-dialog",{attrs:{title:e.title,visible:e.visible},on:{cancel:e.onCancel,submit:e.onSubmit}},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.isLoading,expression:"isLoading"}],ref:"formModel",attrs:{slot:"content",model:e.formModel,rules:e.rules,"label-width":"100px"},slot:"content"},[a("el-form-item",{attrs:{label:"名称:",prop:"name"}},[a("el-input",{attrs:{"prefix-icon":"el-icon-edit",placeholder:"请输入名称",maxlength:"18","auto-complete":"off"},model:{value:e.formModel.name,callback:function(t){e.$set(e.formModel,"name",t)},expression:"formModel.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"编码:",prop:"code"}},[a("el-input",{attrs:{"prefix-icon":"el-icon-edit",placeholder:"请输入编码",maxlength:"18","auto-complete":"off",disabled:e.codeDisabled},model:{value:e.formModel.code,callback:function(t){e.$set(e.formModel,"code",t)},expression:"formModel.code"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"描述:",prop:"description"}},[a("el-input",{attrs:{type:"textarea","prefix-icon":"el-icon-edit",placeholder:"请输入描述",maxlength:"255"},model:{value:e.formModel.description,callback:function(t){e.$set(e.formModel,"description",t)},expression:"formModel.description"}})],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.defaultUrlVisible,expression:"defaultUrlVisible"}],attrs:{label:"默认页面:",prop:"defaultUrl"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.formModel.defaultUrl,callback:function(t){e.$set(e.formModel,"defaultUrl",t)},expression:"formModel.defaultUrl"}},[a("el-option",{attrs:{value:""}}),e._v(" "),e._l(e.menus,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.path}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.name))]),e._v(" "),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.path))])])})],2)],1),e._v(" "),a("el-form-item",{attrs:{label:"后端角色:",prop:"isBackend"}},[a("el-switch",{model:{value:e.formModel.isBackend,callback:function(t){e.$set(e.formModel,"isBackend",t)},expression:"formModel.isBackend"}})],1)],1)],1)},staticRenderFns:[]},l=a("vSla")(s,n,!1,null,null,null);t.default=l.exports},jNUx:function(e,t,a){e.exports=a.p+"static/templates/车型网车型数据搜集.xlsx"},mAKP:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("gyMJ"),s=a("2zme"),n=(a("f4JG"),{components:{EditDialog:s.default},props:{auditStatus:{type:String,default:1}},data:function(){return{filterText:"",loading:!0,emptyText:this.GLOBAL.settings.common.emptyText,props:{id:"id",label:"name",children:"children",isLeaf:"leaf",itemtype:"itemtype"},vehicledatas:[],dialogEditVisible:!1,selectedCarId:"",selectedPictureId:-1,pageSize:this.GLOBAL.settings.backend.carListPageSize,pageIndex:1,totalCount:-1,paramMap:{},defaultImg:'this.src="'+a("f4JG")+'"',paginationShow:!0,loadNodeArgs:{node:null,resolve:null}}},mounted:function(){this.init(),this.initLayout()},watch:{filterText:function(e){this.$refs.vehicletree.filter(e)}},computed:{hasResult:function(){return this.vehicledatas.length>0}},methods:{init:function(){this.loadVehicles()},initLayout:function(){var e=window.innerHeight-164;document.getElementById("el-tree").style.height=e+"px",document.getElementById("el-main").style.height=e+40+"px"},formatItem:function(e,t,a){return{id:e.id,name:0==e.total?e.name:e.name+"("+e.total+")",leaf:a,itemtype:t}},loadNode:function(e,t){var a=this;if(null==this.loadNodeArgs.node&&null==this.loadNodeArgs.resolve&&(this.loadNodeArgs.node=e,this.loadNodeArgs.resolve=t),e.level>3)return t([]);if(0==e.level&&Object(i.i)({vehicleStatus:this.auditStatus}).then(function(e){if(e.success){var i=[];e.data.forEach(function(e,t){var s=a.formatItem(e,"brand",!1);i.push(s)}),t(i)}else t([])}),1==e.level){var s=e.data.id;Object(i.y)({brandId:s,vehicleStatus:this.auditStatus}).then(function(e){if(e.success){var i=[];e.data.forEach(function(e,t){var s=a.formatItem(e,"series",!1);i.push(s)}),t(i)}else t([])})}if(2==e.level){s=e.data.id;Object(i.s)({seriesId:s,vehicleStatus:this.auditStatus}).then(function(e){if(e.success){var i=[];e.data.forEach(function(e,t){var s=a.formatItem(e,"modelyear",!1);i.push(s)}),t(i)}else t([])})}if(3==e.level){s=e.data.id;Object(i.u)({modelyearId:s,vehicleStatus:this.auditStatus}).then(function(e){if(e.success){var i=[];e.data.forEach(function(e,t){var s=a.formatItem(e,"model",!0);i.push(s)}),t(i)}else t([])})}},reloadNode:function(){this.loadNodeArgs.node.childNodes=[],this.loadNode(this.loadNodeArgs.node,this.loadNodeArgs.resolve)},handleNodeClick:function(e,t){this.paramMap={},this.paramMap[t.data.itemtype]=t.data.id,this.resetPage(),this.loadVehicles()},handlecarddbClick:function(){this.dialogEditVisible=!0},handleEditClosed:function(){this.dialogEditVisible=!1},filterNode:function(e,t,a){if(!e)return!0;for(var i=a,s="";0!=i;){if(1==i.level){s=i.data.name;break}i=i.parent}return-1!=s.toLowerCase().indexOf(e.toLowerCase())},doTurnPage:function(e){this.pageIndex=e,this.loadVehicles()},openEdit:function(e,t){this.selectedCarId=e,this.selectedPictureId=t,this.dialogEditVisible=!0},editClose:function(e,t){this.dialogEditVisible=e,t&&(this.reloadNode(),this.loadVehicles())},resetPage:function(){this.pageIndex=1,this.paginationShow=!1,this.$nextTick(function(){this.paginationShow=!0})},loadVehicles:function(){var e=this;this.vehicledatas.splice(0,this.vehicledatas.length),this.loading=!0,this.paramMap.status=this.auditStatus,Object(i.F)({pageIndex:this.pageIndex,pageSize:this.pageSize,paramMap:this.paramMap}).then(function(t){if(e.loading=!1,t.success){var a=t.data;e.totalCount=a.totalCount,e.vehicledatas=a.items}})}}}),l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"car-list-container"},[a("section",[a("el-container",[a("el-aside",[a("el-row",{staticClass:"row-search"},[a("el-input",{staticClass:"input-with-search",attrs:{placeholder:"请输入要搜索的品牌名称",size:"mini",clearable:""},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}},[a("i",{staticClass:"el-input__icon el-icon-search",attrs:{slot:"prefix"},slot:"prefix"})])],1),e._v(" "),a("el-row",[a("el-tree",{ref:"vehicletree",attrs:{id:"el-tree",props:e.props,load:e.loadNode,"filter-node-method":e.filterNode,"expand-on-click-node":!1,accordion:"",lazy:"","highlight-current":""},on:{"node-click":e.handleNodeClick}})],1)],1),e._v(" "),a("el-main",{attrs:{id:"el-main"}},[a("el-row",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"main-row-filter-result"},[e._l(e.vehicledatas,function(t){return a("el-col",{key:t.id,staticClass:"el-col-card-container"},[a("el-card",{staticClass:"card",attrs:{"body-style":{padding:"0px"}},nativeOn:{click:function(a){e.openEdit(t.id,t.pictureId)}}},[a("div",{staticClass:"card-image"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.picUrl,expression:"item.picUrl"},{name:"image-resize",rawName:"v-image-resize",value:{width:220,height:150},expression:"{ width: 220, height: 150 }"}],staticClass:"image",attrs:{onerror:e.defaultImg}})]),e._v(" "),a("div",{staticClass:"card-bottom"},[a("span",[e._v(e._s(t.series)+"   "+e._s(t.year))])]),e._v(" "),a("div",{staticClass:"card-bottom"},[a("span",[e._v(e._s(t.model))])])])],1)}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.hasResult,expression:"!hasResult"}],staticClass:"no-result"},[e._v(e._s(e.emptyText))])],2),e._v(" "),a("el-row",{attrs:{type:"flex",justify:"center"}},[e.paginationShow?a("el-pagination",{staticClass:"main-row-result-pagination",staticStyle:{float:"right"},attrs:{"page-size":e.pageSize,background:"","current-page":e.pageIndex,layout:"prev, pager, next",total:e.totalCount},on:{"update:currentPage":function(t){e.pageIndex=t},"current-change":e.doTurnPage}}):e._e()],1)],1)],1),e._v(" "),a("edit-dialog",{attrs:{visible:e.dialogEditVisible,carid:e.selectedCarId,imageid:e.selectedPictureId,"audit-status":this.$props.auditStatus},on:{editClosed:e.handleEditClosed,"car:onclose":e.editClose}})],1)])},staticRenderFns:[]};var o=a("vSla")(n,l,!1,function(e){a("dHZE"),a("IiU4")},"data-v-479684c0",null);t.default=o.exports},p00s:function(e,t,a){e.exports={default:a("ZZZ8"),__esModule:!0}},"qIp/":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("gyMJ"),s={name:"permission",components:{icareDialog:a("tW1D").default},props:["propsVisible","propsRole"],data:function(){return{visible:!1,title:"角色权限",permissionForm:{props:{label:"name",children:"children"},menuTree:[],hasMenuIds:[]},loading:!1,expandAll:!1}},mounted:function(){},methods:{loadMenus:function(){var e=this,t=this;this.loading=!0,Object(i.q)({roleId:this.propsRole.id}).then(function(a){if(a.success){var i=a.data;t.permissionForm.menuTree=i.menus,t.permissionForm.hasMenuIds=i.hasMenuIds,t.expandAll=!0}e.loading=!1})},onCancel:function(){this.visible=!1,this.clearForm(),this.$emit("permissionFormClosed")},onSubmit:function(){var e=this.$refs.menuTree.getCheckedKeys(!0),t=this;Object(i.R)({roleId:this.propsRole.id,menuIds:e}).then(function(e){e.success&&(t.$message({type:"success",message:"操作成功"}),t.clearForm(),t.$emit("permissionFormCompleted"))})},clearForm:function(){this.propsRole=null}},watch:{propsVisible:function(e){this.visible=e},propsRole:function(e){null!=e&&this.loadMenus()}}},n={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"role-permission-container"},[a("icare-dialog",{attrs:{title:e.title,visible:e.visible},on:{cancel:e.onCancel,submit:e.onSubmit}},[a("el-form",{attrs:{slot:"content"},slot:"content"},[a("el-tree",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"menuTree",attrs:{props:e.permissionForm.props,data:e.permissionForm.menuTree,"default-checked-keys":e.permissionForm.hasMenuIds,"default-expand-all":"","node-key":"id","show-checkbox":"","highlight-current":""}})],1)],1)],1)},staticRenderFns:[]};var l=a("vSla")(s,n,!1,function(e){a("JvBQ")},null,null);t.default=l.exports},"t+Om":function(e,t,a){var i=a("FITv"),s=a("AKd3"),n=a("BRDz");e.exports=function(e,t){var a=(s.Object||{})[e]||Object[e],l={};l[e]=t(a),i(i.S+i.F*n(function(){a(1)}),"Object",l)}},tqYL:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("gyMJ"),s={components:{icareTable:a("0eif").default},data:function(){return{filters:{username:"",type:"",time:null},items:[],pageSize:this.GLOBAL.settings.common.pageSize,pageIndex:1,totalCount:-1,selectedItems:[],listLoading:!1,paginationShow:!0,logTyps:[""],timeRange:[]}},mounted:function(){this.init()},computed:{},methods:{init:function(){var e=this;Object(i.K)([Object(i.o)({}),Object(i.w)({})],function(t,a){e.logTyps.push.apply(e.logTyps,t.data),e.timeRange=[a.data.start,a.data.end],e.filters.time=e.timeRange,e.loadItems()})},loadItems:function(){var e=this;e.listLoading=!0;var t="",a="";null!=this.filters.time&&(t=new Date(this.filters.time[0]).toDateTimeString(),a=new Date(this.filters.time[1]).toDateTimeString()),Object(i.p)({username:this.filters.username,type:encodeURI(this.filters.type),beginTime:t,endTime:a,pageIndex:this.pageIndex,pageSize:this.pageSize}).then(function(t){e.listLoading=!1,t.success&&(e.items=t.data.items,e.totalCount=t.data.totalCount)})},hasRecords:function(){return items.length>0},keywordsChange:function(e){""==e&&this.loadItems()},selectionChange:function(e){this.selectedItems=e},doSearch:function(){this.resetPage(),this.loadItems()},doReset:function(){this.filters.username="",this.filters.type="",this.filters.time=this.timeRange},doTurnPage:function(e){this.pageIndex=e,this.loadItems()},calcRowNumber:function(e){return(this.pageIndex-1)*this.pageSize+e+1},resetPage:function(){this.pageIndex=1,this.paginationShow=!1,this.$nextTick(function(){this.paginationShow=!0})}}},n={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("icare-table",{scopedSlots:e._u([{key:"list-slot",fn:function(t){return a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],attrs:{"highlight-current-row":"",border:"",stripe:"",size:"mini",data:e.items,height:t.height,"empty-text":e.GLOBAL.settings.common.emptyText},on:{"selection-change":e.selectionChange}},[a("el-table-column",{attrs:{type:"index",label:"序号",index:e.calcRowNumber,width:"80"}}),e._v(" "),a("el-table-column",{attrs:{prop:"username",label:"操作人",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{prop:"type",label:"操作类型",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{prop:"description",label:"操作内容"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作时间",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("formatDateTime")(t.row.time)))]}}])})],1)}}])},[a("el-form",{attrs:{slot:"search-slot",inline:!0,model:e.filters,onsubmit:"return false;"},slot:"search-slot"},[a("el-form-item",{attrs:{label:"操作人"}},[a("el-input",{staticClass:"el-input-keyword",attrs:{clearable:"","prefix-icon":"el-icon-search",size:"mini",placeholder:"通过关键字搜索,记得回车哦..."},on:{change:e.keywordsChange},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.doSearch(t):null}},model:{value:e.filters.username,callback:function(t){e.$set(e.filters,"username",t)},expression:"filters.username"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"操作类型"}},[a("el-select",{attrs:{size:"mini","value-key":"value"},model:{value:e.filters.type,callback:function(t){e.$set(e.filters,"type",t)},expression:"filters.type"}},e._l(e.logTyps,function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})}))],1),e._v(" "),a("el-form-item",[a("span",[e._v("时间范围：")]),e._v(" "),a("el-date-picker",{attrs:{size:"mini",type:"datetimerange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.filters.time,callback:function(t){e.$set(e.filters,"time",t)},expression:"filters.time"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.doSearch}},[e._v("查询")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.doReset}},[e._v("重置")])],1)],1),e._v(" "),a("template",{slot:"pagination-slot"},[e.paginationShow?a("el-pagination",{staticStyle:{float:"right"},attrs:{background:"","page-size":e.pageSize,"current-page":e.pageIndex,layout:"prev, pager, next",total:e.totalCount},on:{"current-change":e.doTurnPage}}):e._e()],1)],2)],1)},staticRenderFns:[]};var l=a("vSla")(s,n,!1,function(e){a("ZtVQ")},"data-v-1f1e68fd",null);t.default=l.exports},txLu:function(e,t){},wJhB:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("gyMJ"),s=a("i8lk"),n=a("qIp/"),l=a("0eif"),o={components:{edit:s.default,permission:n.default,icareTable:l.default},data:function(){return{filters:{keywords:""},items:[],pageSize:this.GLOBAL.settings.common.pageSize,pageIndex:1,totalCount:-1,selectedItems:[],listLoading:!1,editMode:this.GLOBAL.formAction.ADD,editFormVisible:!1,editInfo:{},permissionRole:null,permissionFormVisible:!1,paginationShow:!0}},mounted:function(){this.init()},computed:{},methods:{init:function(){this.loadItems()},loadItems:function(){var e=this;e.listLoading=!0;!function t(a,s,n){Object(i.v)({keywords:a,pageIndex:s,pageSize:n}).then(function(i){if(i.success){var s=i.data;0==s.items&&e.pageIndex>1?(e.pageIndex--,t(a,e.pageIndex,n)):(e.items=s.items,e.totalCount=s.totalCount,e.listLoading=!1)}})}(e.filters.keywords,e.pageIndex,e.pageSize)},hasRecords:function(){return items.length>0},keywordsChange:function(e){""==e&&this.loadItems()},selectionChange:function(e){this.selectedItems=e},doSearch:function(){this.resetPage(),this.loadItems()},doTurnPage:function(e){this.pageIndex=e,this.loadItems()},doDelete:function(e){var t=this;this.$confirm("此操作将永久删除["+e.name+"], 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.deleteItems(e.id)}).catch(function(){})},doBatchDelete:function(){var e=this;this.$confirm("此操作将删除["+this.selectedItems.length+"]条数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){for(var t="",a=0;a<e.selectedItems.length;a++)t+=e.selectedItems[a].id+",";e.deleteItems(t)}).catch(function(){})},deleteItems:function(e){this.listLoading=!0;var t=this;Object(i.e)({ids:e}).then(function(e){t.listLoading=!1,e.success&&(t.$message({type:"success",message:"操作成功"}),t.loadItems())})},showAddForm:function(){this.editMode=this.GLOBAL.formAction.ADD,this.editFormVisible=!0},showEditForm:function(e){this.editMode=this.GLOBAL.formAction.EDIT,this.editInfo=this.deepCopy(e),this.editFormVisible=!0},onEditFormClosed:function(){this.editFormVisible=!1},onEditFormCompleted:function(){this.editFormVisible=!1,this.loadItems()},showPermissionForm:function(e){e.isBackend?(this.permissionRole=e,this.permissionFormVisible=!0):this.$message.warning("非后端角色不需要设置权限")},onPermissionFormClosed:function(){this.permissionFormVisible=!1},onPermissionFormCompleted:function(){this.permissionFormVisible=!1},resetPage:function(){this.pageIndex=1,this.paginationShow=!1,this.$nextTick(function(){this.paginationShow=!0})}}},r={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("icare-table",{scopedSlots:e._u([{key:"list-slot",fn:function(t){return a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],attrs:{"highlight-current-row":"",border:"",stripe:"",size:"mini",data:e.items,height:t.height},on:{"selection-change":e.selectionChange}},[a("el-table-column",{attrs:{type:"selection",align:"left",width:"35"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",align:"left",label:"名称",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{prop:"code",align:"left",label:"编码",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{prop:"description",align:"left",label:"描述"}}),e._v(" "),a("el-table-column",{attrs:{prop:"defaultUrlName",align:"left",label:"默认页面",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{prop:"isBackend",align:"left",label:"后端角色",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{disabled:!0},model:{value:t.row.isBackend,callback:function(a){e.$set(t.row,"isBackend",a)},expression:"scope.row.isBackend"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"220"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"info",size:"mini"},on:{click:function(a){e.showEditForm(t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{type:"info",size:"mini"},on:{click:function(a){e.showPermissionForm(t.row)}}},[e._v("权限")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){e.doDelete(t.row)}}},[e._v("删除")])]}}])})],1)}}])},[a("el-form",{attrs:{slot:"search-slot",inline:!0,model:e.filters,onsubmit:"return false;"},slot:"search-slot"},[a("el-form-item",[a("el-input",{attrs:{clearable:"","prefix-icon":"el-icon-search",size:"mini",placeholder:"通过关键字搜索,记得回车哦..."},on:{change:e.keywordsChange},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.doSearch(t):null}},model:{value:e.filters.keywords,callback:function(t){e.$set(e.filters,"keywords",t)},expression:"filters.keywords"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.doSearch}},[e._v("查询")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.showAddForm}},[e._v("新增")])],1)],1),e._v(" "),a("template",{slot:"pagination-slot"},[e.hasRecords?a("el-button",{attrs:{type:"danger",size:"mini",disabled:0==e.selectedItems.length},on:{click:e.doBatchDelete}},[e._v("批量删除")]):e._e(),e._v(" "),e.paginationShow?a("el-pagination",{staticStyle:{float:"right"},attrs:{background:"","page-size":e.pageSize,"current-page":e.pageIndex,layout:"prev, pager, next",total:e.totalCount},on:{"current-change":e.doTurnPage}}):e._e()],1)],2),e._v(" "),a("edit",{attrs:{propsVisible:e.editFormVisible,propsEditInfo:e.editInfo,propsEditMode:e.editMode},on:{editClosed:e.onEditFormClosed,editCompleted:e.onEditFormCompleted}}),e._v(" "),a("permission",{attrs:{propsVisible:e.permissionFormVisible,propsRole:e.permissionRole},on:{permissionFormClosed:e.onPermissionFormClosed,permissionFormCompleted:e.onPermissionFormCompleted}})],1)},staticRenderFns:[]},c=a("vSla")(o,r,!1,null,null,null);t.default=c.exports}});